{% extends "student/index2.html" %}
{% load static %}


{% block content %}

    {% for tid,tname,j,lt,at,act in tt %}
        <div class="col-12">
            <div class="card card-outline-info">
                <div class="card-header text-center text-white">
                    <h2 class="pt-1"><span class="text-white">
                            {{sub_nm}} - {{tname}}</span></h2></div>
                            <div class="card-body text-center">
                                <div class="row justify-content-center">
                                <div class="col-4"><div class="card">
                                        <div class="card-body">
                                            <h4 class="card-title">Total time spent by you.</h4>
                                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                                            <p class="card-text">{{lt}}</p>
                                            
                                        </div>
                                    </div></div>
                                <div class="col-4"><div class="card">
                                        <div class="card-body">
                                            <h4 class="card-title">Time spent by students.</h4>
                                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                                            <p class="card-text">{{at}}</p>
                                            
                                        </div>
                                    </div></div>
                                <div class="col-4 "><div class="card">
                                        <div class="card-body">
                                            <h4 class="card-title">Your accuracy</h4>
                                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                                            <p class="card-text">{{act}}</p>
                                            
                                        </div>
                                    </div></div>
                                <!-- <div class="row justify-content-center">
                                <div class="col-4 bg-danger"><h1>{{lt}}</h1></div>
                                <div class="col-4 bg-info"><h1>{{at}}</h1></div>
                                <div class="col-4 bg-success"><h1>Accuracy</h1></div> -->
                            </div>
                            <a data-toggle="collapse" href="#que{{tid}}" aria-expanded="true" aria-controls="collapse-example" id="heading-example" class="btn btn-info">View the detailed activity</a>
                    <div id="que{{tid}}" class="collapse" aria-labelledby="heading-example">
                            
                    <div class="table-responsive m-t-40">
                        <table id="example{{tid}}" class="display nowrap table table-hover table-striped table-bordered" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>Question No.</th>
                                    <th>Question</th>
                                    <th>Correct Ans.</th>
                                    <th>Average Time</th>
                                    <th>Solution</th>
                                    
                                </tr>
                            </thead>
                            <tfoot>
                                <tr>
                                    <th>Question No.</th>
                                    <th>Question</th>
                                    <th>Correct Ans.</th>
                                    <th>Average Time</th>
                                    <th>Solution</th>
                                    
                                </tr>
                            </tfoot>
                            <tbody>
                                {% for k in j %}
                                <tr>
                                    <td>{{k.0}}</td>
                                    <td>{{k.1}}</td>
                                    <td>{{k.2}}</td>
                                    <td>{{k.3}} Sec</td>
                                    <td>{{k.4}}</td>
                                    
                                </tr>
                                {% endfor %}
                                
                            </tbody>
                        </table>
                    </div>
                    
                    </div>
                </div>
                
            </div>
        
        
        {% endfor %}
    </div>
        <!-- <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Internet Speed</h4>
                        <div id="gauge-chart" style="width:100%; height:400px;"></div>
                    </div>
                </div>
            </div>
            <script src="{% static 'student/assets/plugins/echarts/echarts-all.js' %}"></script>
            <script src="{% static 'student/assets/plugins/echarts/echarts-init.js' %}"></script> -->
            <script src="{% static 'student/assets/plugins/jquery.easy-pie-chart/dist/jquery.easypiechart.min.js' %}"></script>
            <script src="{% static 'student/assets/plugins/jquery.easy-pie-chart/easy-pie-chart.init.js' %}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <!-- This is data table -->
     <script src="{% static 'student/assets/plugins/datatables/jquery.dataTables.min.js' %}"></script>
     <!-- start - This is for export functionality only -->
     <script src="https://cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js"></script>
     <script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.flash.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>
     <script src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js"></script>
     <script src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>
     <script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js"></script>
     <script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js"></script>
     
     <!-- end - This is for export functionality only -->
     {% for tidd in tid %}
     <script>
            $(document).ready(function() {
                $('#example{{tidd}}').DataTable();
                $(document).ready(function() {
                    var table = $('#example{{tidd}}').DataTable({
                        "columnDefs": [{
                            "visible": false,
                            "targets": 2
                        }],
                        "order": [
                            [2, 'asc']
                        ],
                        "displayLength": 25,
                        "drawCallback": function(settings) {
                            var api = this.api();
                            var rows = api.rows({
                                page: 'current'
                            }).nodes();
                            var last = null;
                            api.column(2, {
                                page: 'current'
                            }).data().each(function(group, i) {
                                if (last !== group) {
                                    $(rows).eq(i).before('<tr class="group"><td colspan="5">' + group + '</td></tr>');
                                    last = group;
                                }
                            });
                        }
                    });
                    // Order by the grouping
                    $('#example{{tidd}} tbody').on('click', 'tr.group', function() {
                        var currentOrder = table.order()[0];
                        if (currentOrder[0] === 2 && currentOrder[1] === 'asc') {
                            table.order([2, 'desc']).draw();
                        } else {
                            table.order([2, 'asc']).draw();
                        }
                    });
                });
            });
            $('#example{{tidd}}').DataTable({
                dom: 'Bfrtip',
                buttons: [
                    'copy', 'csv', 'excel', 'pdf', 'print'
                ]
            });
            </script>
            {% endfor %}
        
{% endblock %}